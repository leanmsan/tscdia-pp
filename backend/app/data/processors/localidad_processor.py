from .text_utils import normalizar_texto_base

MAPEO_LOCALIDADES = {
    'CAP': 'SANTIAGO DEL ESTERO',
    'CAP?TAL': 'SANTIAGO DEL ESTERO',
    'CAPITAL': 'SANTIAGO DEL ESTERO',
    'CAPÍTAL': 'SANTIAGO DEL ESTERO',
    'MANOGASTA': 'SANTIAGO DEL ESTERO',
    'LOS ROMANOS': 'SANTIAGO DEL ESTERO',
    'SDE': 'SANTIAGO DEL ESTERO',
    'BORGES': 'SANTIAGO DEL ESTERO',
    'SANTA MARIA': 'SANTIAGO DEL ESTERO',
    'ACPITAL': 'SANTIAGO DEL ESTERO',
    'CAPTAL': 'SANTIAGO DEL ESTERO',
    'CAP.': 'SANTIAGO DEL ESTERO',
    'CAP\'': 'SANTIAGO DEL ESTERO',
    'CAPC': 'SANTIAGO DEL ESTERO',
    'CAPO': 'SANTIAGO DEL ESTERO',
    'CAPI': 'SANTIAGO DEL ESTERO',
    'CPA': 'SANTIAGO DEL ESTERO',
    'LB': 'LA BANDA',
    'BANDA+': 'LA BANDA',
    'LA BANDA': 'LA BANDA',
    'LA BAND A': 'LA BANDA',
    'KA BANDA': 'LA BANDA',
    'LA BAN DA': 'LA BANDA',
    'LOS PEREYRA': 'LA BANDA',
    'LA BADNA': 'LA BANDA',
    'LA BNADA': 'LA BANDA',
    'BANDA': 'LA BANDA',
    'L ABANDA': 'LA BANDA',
    'JUMI POZO': 'LA BANDA',
    'FRIAS': 'FRIAS',
    'FRÍAS': 'FRIAS',
    'CHOYA': 'FRIAS',
    'FRIA': 'FRIAS',
    'FRAS': 'FRIAS',
    'TERMAS DE RIO HONDO': 'TERMAS DE RIO HONDO',
    'TERMAS DE RÍO HONDO': 'TERMAS DE RIO HONDO',
    'TDRH': 'TERMAS DE RIO HONDO',
    'TRH': 'TERMAS DE RIO HONDO',
    'THR': 'TERMAS DE RIO HONDO',
    'TERMAS': 'TERMAS DE RIO HONDO',
    'TDH': 'TERMAS DE RIO HONDO',
    'TERMAS DE RIO HONO': 'TERMAS DE RIO HONDO',
    'TERMAS DE RH': 'TERMAS DE RIO HONDO',
    'RIO HONDO': 'TERMAS DE RIO HONDO',
    'RH': 'TERMAS DE RIO HONDO',
    'NUEVA ESPERANZA': 'NUEVA ESPERANZA',
    'SANTO DOMINGO': 'NUEVA ESPERANZA',
    'STO DOMINGO': 'NUEVA ESPERANZA',
    'N. ESPERANZA': 'NUEVA ESPERANZA',
    'ESPERANZA': 'NUEVA ESPERANZA',
    'NVA ESPERANZA': 'NUEVA ESPERANZA',
    'SUNCHO CORRAL': 'SUNCHO CORRAL',
    'S. CORRAL': 'SUNCHO CORRAL',
    'SUNCHO CORRA': 'SUNCHO CORRAL',
    'SUNCHO': 'SUNCHO CORRAL',
    'SUNCHO CORRAL J F IBARRA': 'SUNCHO CORRAL',
    'FERNANDEZ': 'FERNANDEZ',
    'FDZ': 'FERNANDEZ',
    'FERNANDES': 'FERNANDEZ',
    'FENANDEZ': 'FERNANDEZ',
    'FERNADNEZ': 'FERNANDEZ',
    'FDEZ': 'FERNANDEZ',
    'ROBLES': 'FERNANDEZ',
    'FERNNADEZ': 'FERNANDEZ',
    'AÑATUYA': 'AÑATUYA',
    'AATUYA': 'AÑATUYA',
    'A?ATUYA': 'AÑATUYA',
    'AATUTA': 'AÑATUYA',
    'ATUYA': 'AÑATUYA',
    'AAYTUTA': 'AÑATUYA',
    'A¥ATUYA': 'AÑATUYA',
    'CLODOMIRA': 'CLODOMIRA',
    'CLOOMIRA': 'CLODOMIRA',
    'CLODMIRA': 'CLODOMIRA',
    'CLODOMIR A': 'CLODOMIRA',
    'CLODOMRA': 'CLODOMIRA',
    'CLODORMIA': 'CLODOMIRA',
    'CLODORMIRA': 'CLODOMIRA',
    'CLO': 'CLODOMIRA',
    'DESCONOCIDO': 'DESCONOCIDO',
    'NO INFORMADO': 'DESCONOCIDO',
    'SIN DATO': 'DESCONOCIDO',
    '-': 'DESCONOCIDO',
    'SIN DATOS': 'DESCONOCIDO',
    'DESCONOCIDA': 'DESCONOCIDO',
    'N/A': 'DESCONOCIDO',
    'NA': 'DESCONOCIDO',
    'NONE': 'DESCONOCIDO',
}

def normalizar_localidad(valor: str) -> str:
    resultado = normalizar_texto_base(valor, MAPEO_LOCALIDADES, quitar_tildes_flag=True)
    
    if 'TERMAS' in resultado and 'HONDO' in resultado:
        return 'TERMAS DE RIO HONDO'
    
    if resultado in {'CAP', 'CAPITAL', 'CAPÍTAL'}:
        return 'SANTIAGO DEL ESTERO'
    
    return resultado
